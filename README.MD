# Robo Digger Project

**원격조종 굴삭기 프로젝트 - FPGA 기반 스마트 건설 시스템**

## 프로젝트 개요

건설 현장에서 발생하는 안전사고를 예방하고자, FPGA 기반의 원격 조종 굴삭기 시스템을 개발했습니다. BASYS3 보드를 활용한 SoC 시스템으로 서보모터와 DC모터를 제어하여 굴삭기의 주요 동작과 주행 기능을 구현했습니다.

### 주요 특징
- **SoC 시스템**: BASYS3 보드 기반 시스템온칩 구현
- **모터 제어**: 서보모터와 DC모터를 통한 정밀한 동작 제어
- **블루투스 통신**: HC-05 모듈을 통한 무선 원격 제어
- **조이스틱 제어**: 직관적인 듀얼 조이스틱 입력 시스템
- **실시간 영상**: ESP32-CAM을 통한 실시간 화면 전송

## 팀 구성

| 이름 | 역할 | 담당 업무 |
|------|------|-----------|
| **전길수** | 프로젝트 지원 | 프로젝트 관리, 일정 총괄, 전체 운영 |
| **박명건** | 송신부 개발 | 블루투스 송신부 제어, ADC 코드 제작 |
| **민형기** | 수신부 개발 | 블루투스 수신부 제어, 서보/DC모터 제어 |

## 기술 스택

### FPGA & 개발환경
- **BASYS3 보드**: 메인 제어 보드
- **Vivado**: FPGA 개발 환경
- **Vitis**: 임베디드 소프트웨어 개발
- **Verilog**: HDL 설계 언어

### 하드웨어 구성
- **HC-05**: 블루투스 무선 통신 모듈
- **서보모터**: 붐(Boom), 암(Arm), 버킷(Bucket), 스윙(Swing) 제어
- **DC모터**: 주행 및 회전 구동 (L298N 드라이버)
- **ESP32-CAM**: 실시간 영상 전송
- **조이스틱**: 듀얼 아날로그 조이스틱 (X1Y1, X2Y2)

## 주요 기능

### 1. 조이스틱 제어
- **듀얼 조이스틱**: X1,Y1 / X2,Y2 신호를 ADC로 처리
- **아날로그 입력**: 정밀한 모터 제어를 위한 아날로그 신호 파싱

### 2. 모드 전환 시스템
- **버튼 1**: 드라이브 모드 (주행)
- **버튼 2**: 워크 모드 (굴삭 작업)
- **버튼 3**: 블레이드 다운 (지면 밀착)
- **버튼 4**: 블레이드 업 (상승)

### 3. 모터 제어
- **서보모터**: 4관절 + 블레이드 정밀 제어
- **DC모터**: 4개 모터를 통한 궤도 이동 및 회전

### 4. 무선 통신
- **HC-05 블루투스**: Master/Slave 구성으로 무선 제어
- **실시간 데이터**: 명령 송수신 및 연결 상태 검증

### 5. 모니터링
- **ESP32-CAM**: 실시간 영상 스트리밍
- **LCD 디스플레이**: 상태 메시지 및 오류 정보 표시

## 시스템 아키텍처

```
[조이스틱] → [ADC] → [BASYS3 SoC] → [UART] → [HC-05] → [수신부]
                                                              ↓
[ESP32-CAM] ← [LCD] ← [서보모터 × 5] ← [DC모터 × 4] ← [L298N]
```

## 주요 해결사항

### 전원 안정화
- **문제**: 서보모터, BASYS3, HC-05의 동시 전원 공급 시 전압 강하 발생
- **해결**: 각 모듈별 독립 배터리 공급으로 안정성 확보

### UART 통신 안정화
- **문제**: 실시간 데이터 송수신 시 노이즈 및 데이터 누락
- **해결**: 버퍼링 및 라인 단위(\n) 처리로 안정성 개선

## 향후 개선사항

### 하드웨어 개선
- **유압 시스템**: 서보모터의 180° 회전 제약을 극복하기 위한 유압 방식 도입
- **아웃트리거**: 작업 시 안정성 향상을 위한 지지 장치 추가

### 소프트웨어 개선
- 더욱 정밀한 모터 제어 알고리즘
- 향상된 사용자 인터페이스
- 자동 작업 모드 구현

## 데모 영상

[![시연 영상](https://img.shields.io/badge/YouTube-시연영상-red?style=for-the-badge&logo=youtube)](https://www.youtube.com/shorts/obiy9c_imKA)에서 확인하실 수 있습니다.
